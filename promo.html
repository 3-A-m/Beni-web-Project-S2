<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Promotions | Blessed Dealership</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<style>
.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.3);
  transition: 0.3s;
  cursor: pointer;
}

.modal-car-img, #buyCarImage, #testDriveCarImage {
  width: 100%;
  height: auto;
  max-height: 420px;
  object-fit: cover;
}

/* Modal footer buttons */
.modal-footer .btn {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.modal-footer .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.25);
}

/* Smooth date/time input */
input[type="date"], input[type="time"] {
  padding: 0.5rem 0.75rem;
  font-size: 1rem;
  border-radius: 6px;
  border: 1px solid #ccc;
  transition: border 0.3s ease, box-shadow 0.3s ease;
}

input[type="date"]:focus, input[type="time"]:focus {
  border-color: #007bff;
  box-shadow: 0 0 8px rgba(0,123,255,0.3);
  outline: none;
}
</style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Blessed Dealership</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Homepage</a></li>
        <li class="nav-item"><a class="nav-link" href="catalogue.html">Cars</a></li>
        <li class="nav-item"><a class="nav-link active" href="promo.html">Promotions</a></li>
        <li class="nav-item"><a class="nav-link" href="aboutus.html">About Us</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Promo Section -->
<section class="container py-5">
  <h2 class="text-center mb-4">Cars on Promotion</h2>
  <div class="alert alert-warning text-center">
    Limited time offers — get yours right now
  </div>
  <div id="promoGrid"></div>
</section>

<!-- Car Modal -->
<div class="modal fade" id="carModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-header">
        <h4 class="modal-title" id="modalCarName">Car Name</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <div class="container-fluid">
          <div class="row g-4">

            <div class="col-12 col-lg-6">
              <img id="modalCarImage" src="" alt="" class="img-fluid rounded w-100 modal-car-img">
            </div>

            <div class="col-12 col-lg-6">
              <div class="car-info">
                <p><strong>Number of seats</strong>: <span id="modalSeats"></span></p>
                <p><strong>Number of doors</strong>: <span id="modalDoors"></span></p>
                <p><strong>Engine</strong>: <span id="modalEngine"></span></p>
                <p><strong>Transmission</strong>: <span id="modalTransmission"></span></p>
                <p><strong>Fuel type</strong>: <span id="modalFuel"></span></p>
                <hr>
                <p class="price"><del id="modalOldPrice"></del> <span id="modalPrice"></span></p>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="modal-footer justify-content-end gap-2">
        <button class="btn btn-secondary modal-btn" data-bs-dismiss="modal">Keep Browsing</button>
        <button class="btn btn-success modal-btn">Buy Car</button>
        <button class="btn btn-primary modal-btn">Book a Test Drive</button>
      </div>

    </div>
  </div>
</div>

<!-- Buy Car Modal -->
<div class="modal fade" id="buyCarModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-md modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="buyCarName">Confirm Purchase</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-center">
        <img id="buyCarImage" src="" class="img-fluid rounded mb-3" style="max-height:200px;">
        <p>Are you sure you want to buy this car?</p>
      </div>
      <div class="modal-footer justify-content-center gap-2">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Keep Browsing</button>
        <button class="btn btn-success" id="confirmBuyBtn">Confirm Purchase</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="thankYouModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content text-center p-3">
      <div class="modal-body">
        <h5>Congrats on your new car</h5>
        <p>Thank you for shopping with Blessed Dealership</p>
        <button class="btn btn-primary mt-2" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Test Drive Modal -->
<div class="modal fade" id="testDriveModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-md modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="testDriveCarName">Book Test Drive</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-center">
        <img id="testDriveCarImage" src="" class="img-fluid rounded mb-3" style="max-height:200px;">
        <p>Choose a date and time for your test drive:</p>
        <div class="mb-2">
          <input type="date" id="testDriveDate" class="form-control form-control-lg">
        </div>
        <div class="mb-2">
          <input type="time" id="testDriveTime" class="form-control form-control-lg">
        </div>
      </div>
      <div class="modal-footer justify-content-center gap-2">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Keep Browsing</button>
        <button class="btn btn-primary" id="confirmTestDriveBtn">Confirm Test Drive</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="testDriveThankModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content text-center p-3">
      <div class="modal-body">
        <h5>Test Drive Booked!</h5>
        <p>Your test drive for <span id="thankCarName"></span> is scheduled on 
          <hr> 
          <span id="thankCarDate"></span> at <span id="thankCarTime"></span></p>
        <button class="btn btn-primary mt-2" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<footer class="bg-dark text-white text-center py-3">
  <small>© 2026 Blessed Dealership</small>
  <br>
  <a href="calculator/calc.html"
     style="
       display: inline-block;
       padding: 8px 16px;
       font-weight: 500;
       text-decoration: none;
       color: #ffffff;
       border-radius: 8px;
       background-color: rgba(255, 255, 255, 0.15);
       transition:
         color 0.25s ease,
         background-color 0.25s ease,
         transform 0.2s ease;
     "
     onmouseover="
       this.style.backgroundColor='rgba(255,255,255,0.35)';
       this.style.transform='translateY(-2px)';
     "
     onmouseout="
       this.style.backgroundColor='rgba(255,255,255,0.15)';
       this.style.transform='translateY(0)';
     "
  >
    Calculator
  </a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
const promoCars = [
  { image: "photo/cars/car1.jpg", name: "Peugeot 206", seats: 5, doors: 3, engine: "2.0L HDI", transmission: "Manual", fuel: "Diesel", oldPrice: "$6,200", price: "$5,500" },
  { image: "photo/cars/car2.jpg", name: "Peugeot 106", seats: 5, doors: 3, engine: "1.6 TUJP4", transmission: "Manual", fuel: "Gasoline", oldPrice: "$7,400", price: "$6,700" },
  { image: "photo/cars/car3.jpg", name: "Volkswagen Golf Phase 2", seats: 5, doors: 5, engine: "1.5 Diesel", transmission: "Automatic", fuel: "Diesel", oldPrice: "$3,300", price: "$3,000" },
  { image: "photo/cars/car4.jpg", name: "Volkswagen Touran", seats: 8, doors: 5, engine: "2.0L Diesel", transmission: "Automatic", fuel: "Diesel", oldPrice: "$14,000", price: "$13,000" },
  { image: "photo/cars/car5.jpg", name: "Mini Cooper 2012", seats: 5, doors: 3, engine: "1.2 Gas", transmission: "Manual", fuel: "Gasoline", oldPrice: "$6,000", price: "$5,500" }
];

const grid = document.getElementById("promoGrid");

// Generate promo cards
promoCars.forEach((car, index) => {
  grid.innerHTML += `
    <div class="card mb-4 w-100" data-bs-toggle="modal" data-bs-target="#carModal" data-index="${index}">
      <div class="row g-0 align-items-center">
        <div class="col-12 col-md-3">
          <img src="${car.image}" class="img-fluid rounded-start w-100" alt="${car.name}">
        </div>
        <div class="col-12 col-md-6">
          <div class="card-body">
            <h5 class="card-title">${car.name}</h5>
            <p class="card-text">${car.seats} Seats • ${car.doors} Doors • ${car.engine}</p>
            <p class="card-text"><del>${car.oldPrice}</del> <strong class="fs-5">${car.price}</strong></p>
          </div>
        </div>
      </div>
    </div>
  `;
});

// Populate car modal
const carModal = document.getElementById('carModal');
carModal.addEventListener('show.bs.modal', event => {
  const card = event.relatedTarget;
  const index = card.getAttribute('data-index');
  const car = promoCars[index]; 

  document.getElementById('modalCarName').textContent = car.name;
  document.getElementById('modalCarImage').src = car.image;
  document.getElementById('modalSeats').textContent = car.seats;
  document.getElementById('modalDoors').textContent = car.doors;
  document.getElementById('modalEngine').textContent = car.engine;
  document.getElementById('modalTransmission').textContent = car.transmission;
  document.getElementById('modalFuel').textContent = car.fuel;
  document.getElementById('modalOldPrice').textContent = car.oldPrice;
  document.getElementById('modalPrice').textContent = car.price;
});

// Buy Car button
document.querySelector('#carModal .btn-success.modal-btn').addEventListener('click', () => {
  const carName = document.getElementById('modalCarName').textContent;
  const carImage = document.getElementById('modalCarImage').src;
  const carPrice = document.getElementById('modalPrice').textContent;

  document.getElementById('buyCarName').textContent = `${carName} : ${carPrice}`;
  document.getElementById('buyCarImage').src = carImage;

  bootstrap.Modal.getInstance(document.getElementById('carModal')).hide();
  new bootstrap.Modal(document.getElementById('buyCarModal')).show();
});

// Confirm Purchase
document.getElementById('confirmBuyBtn').addEventListener('click', () => {
  bootstrap.Modal.getInstance(document.getElementById('buyCarModal')).hide();
  new bootstrap.Modal(document.getElementById('thankYouModal')).show();
});

// Book Test Drive button
document.querySelector('#carModal .btn-primary.modal-btn').addEventListener('click', () => {
  const carName = document.getElementById('modalCarName').textContent;
  const carImage = document.getElementById('modalCarImage').src;

  document.getElementById('testDriveCarName').textContent = carName;
  document.getElementById('testDriveCarImage').src = carImage;

  document.getElementById('testDriveDate').value = '';
  document.getElementById('testDriveTime').value = '';

  bootstrap.Modal.getInstance(document.getElementById('carModal')).hide();
  new bootstrap.Modal(document.getElementById('testDriveModal')).show();
});

// Confirm Test Drive
document.getElementById('confirmTestDriveBtn').addEventListener('click', () => {
  const date = document.getElementById('testDriveDate').value;
  const time = document.getElementById('testDriveTime').value;
  const carName = document.getElementById('testDriveCarName').textContent;

  if (!date || !time) {
    alert('Please select both date and time!');
    return;
  }

  document.getElementById('thankCarName').textContent = carName;
  document.getElementById('thankCarDate').textContent = new Date(date).toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
  document.getElementById('thankCarTime').textContent = time;

  bootstrap.Modal.getInstance(document.getElementById('testDriveModal')).hide();
  new bootstrap.Modal(document.getElementById('testDriveThankModal')).show();
});
</script>

</body>
</html>
